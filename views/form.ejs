<!DOCTYPE html>
<html>
<head>
  <title>論文管理-論文追加</title>
  <link rel="stylesheet" href="/style.css" />
</head>

<body>
<div id="header"></div>

<script>
fetch('/header.html')
  .then(response => response.text())
  .then(data => document.getElementById('header').innerHTML = data);
</script>

  <h1>論文を追加</h1>
    <form method="POST" action="/add" enctype="multipart/form-data">
      <input name="title" placeholder="タイトル" required /><br />
      <textarea name="summary" placeholder="要約" required></textarea><br />
      <input name="link" placeholder="外部リンク" /><br />
      <label>PDFアップロード</label><br />
        <input type="file" name="pdf" accept="application/pdf" /><br />

      <label>既存タグを選択（複数選択可）:</label><br />
      <select name="tags" id="tagsSelect" multiple size="5">
        <% tags.forEach(t => { %>
          <option value="<%= t %>"><%= t %></option>
        <% }) %>
      </select>
      <br />
      <label>新しいタグ（カンマ区切りで複数可）:</label>
      <input type="text" name="newTags" placeholder="例: IDS, セキュリティ" />
      <br />

      <button type="submit">追加</button>
    </form>


    <!-- タグは上のセレクトと新規タグ入力で扱います -->

<div id="footer"></div>
<script>
fetch('/footer.html')
  .then(response => response.text())
  .then(data => document.getElementById('footer').innerHTML = data);
</script>

</body>
</html>
